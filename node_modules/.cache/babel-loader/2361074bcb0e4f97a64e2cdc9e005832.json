{"ast":null,"code":"import _slicedToArray from\"/Users/askaris/SEI/project2-library/Project2-books/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import Header from\"../Header/Header\";import Footer from\"../Footer/Footer\";import'./DetailsPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DetailsPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),author=_useState4[0],setAuthor=_useState4[1];console.log(useParams());var params=useParams();useEffect(function(){fetch(\"http://openlibrary.org/works/\".concat(params.id,\".json\")).then(function(response){return response.json();}).then(function(detailData){setDetails(detailData);return fetch(\"http://openlibrary.org\".concat(detailData.authors[0].author.key,\".json\"));}).then(function(response){return response.json();}).then(function(authorData){return setAuthor(authorData);}).catch(console.error);},[params.id]);console.log(details);console.log(author);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"detailsWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"cover\",children:details.covers===undefined?\"no image available\":/*#__PURE__*/_jsx(\"img\",{src:\"https://covers.openlibrary.org/b/id/\".concat(details.covers[0],\"-L.jpg\"),alt:\"Book Cover\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:details.title}),/*#__PURE__*/_jsx(\"h4\",{children:author.name}),/*#__PURE__*/_jsx(\"p\",{children:details.description===undefined?\"No Description Available.\":typeof details.description==='object'?details.description.value:details.description})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}//   if ( typeof details.description === 'string' && details.covers === undefined) {\n//     return <div>no image available {details.title} {author.name} {details.description}</div>\n//   } else if (typeof details.description === 'string') {\n//     return <div><img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' /> {details.title} {author.name} {details.description}</div>\n//   } else if (typeof details.description === 'object' && details.covers === undefined) {\n//     return <div>no image available { details.title } { author.name } { details.description.value }</div>\n//   } else if (typeof details.description === 'object'){\n//     return <div><img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' />{details.title} {author.name} {details.description.value}</div>\n//   } else if (details.description === undefined && details.covers === undefined){\n//     return <div>No Image Available. {details.title} {author.name} No Description Available.</div>\n//   } else if (details.description === undefined) {\n//     return <div><img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' /> {details.title} {author.name} No Description Available.</div>}\n// }\nexport default DetailsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Header","Footer","DetailsPage","details","setDetails","author","setAuthor","console","log","params","fetch","id","then","response","json","detailData","authors","key","authorData","catch","error","covers","undefined","title","name","description","value"],"sources":["/Users/askaris/SEI/project2-library/Project2-books/src/components/DetailsPage/DetailsPage.jsx"],"sourcesContent":["import React, { useState,useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport './DetailsPage.css'\n\nfunction DetailsPage() {\n  const [details, setDetails] = useState([])\n  const [author, setAuthor] = useState([])\n  console.log(useParams());\n  const params = useParams();\n  useEffect(() => {\n    fetch(`http://openlibrary.org/works/${params.id}.json`)\n    .then((response) => response.json())\n    .then((detailData) => {\n      setDetails(detailData);\n      return fetch(`http://openlibrary.org${detailData.authors[0].author.key}.json`)\n    })\n    .then((response) => response.json())\n    .then((authorData) => setAuthor(authorData))\n    .catch(console.error)\n  },[params.id])\n  console.log(details)\n  console.log(author)\n  return (\n    <>\n    <Header/>\n    <div id=\"detailsWrapper\">\n      \n      \n        <div id=\"cover\">\n         {details.covers === undefined ? \"no image available\" : <img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' />}\n        </div>\n\n        <div id=\"description\">\n         <h3>{details.title}</h3>\n         <h4>{author.name}</h4>\n         <p>{details.description === undefined ? \"No Description Available.\" : (\n            typeof details.description === 'object' ? details.description.value : details.description\n          )}</p>\n        </div>\n      \n    </div>\n    <Footer/>\n    </>\n  )}\n  \n//   if ( typeof details.description === 'string' && details.covers === undefined) {\n//     return <div>no image available {details.title} {author.name} {details.description}</div>\n//   } else if (typeof details.description === 'string') {\n//     return <div><img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' /> {details.title} {author.name} {details.description}</div>\n//   } else if (typeof details.description === 'object' && details.covers === undefined) {\n//     return <div>no image available { details.title } { author.name } { details.description.value }</div>\n//   } else if (typeof details.description === 'object'){\n//     return <div><img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' />{details.title} {author.name} {details.description.value}</div>\n//   } else if (details.description === undefined && details.covers === undefined){\n//     return <div>No Image Available. {details.title} {author.name} No Description Available.</div>\n//   } else if (details.description === undefined) {\n//     return <div><img src={`https://covers.openlibrary.org/b/id/${details.covers[0]}-L.jpg`} alt='Book Cover' /> {details.title} {author.name} No Description Available.</div>}\n// }\n\n\nexport default DetailsPage;\n"],"mappings":"wIAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAO,mBAAP,C,6IAEA,QAASC,YAAT,EAAuB,CACrB,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA4BP,QAAQ,CAAC,EAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eACAC,OAAO,CAACC,GAAR,CAAYT,SAAS,EAArB,EACA,GAAMU,OAAM,CAAGV,SAAS,EAAxB,CACAD,SAAS,CAAC,UAAM,CACdY,KAAK,wCAAiCD,MAAM,CAACE,EAAxC,UAAL,CACCC,IADD,CACM,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EADN,EAECF,IAFD,CAEM,SAACG,UAAD,CAAgB,CACpBX,UAAU,CAACW,UAAD,CAAV,CACA,MAAOL,MAAK,iCAA0BK,UAAU,CAACC,OAAX,CAAmB,CAAnB,EAAsBX,MAAtB,CAA6BY,GAAvD,UAAZ,CACD,CALD,EAMCL,IAND,CAMM,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EANN,EAOCF,IAPD,CAOM,SAACM,UAAD,QAAgBZ,UAAS,CAACY,UAAD,CAAzB,EAPN,EAQCC,KARD,CAQOZ,OAAO,CAACa,KARf,EASD,CAVQ,CAUP,CAACX,MAAM,CAACE,EAAR,CAVO,CAAT,CAWAJ,OAAO,CAACC,GAAR,CAAYL,OAAZ,EACAI,OAAO,CAACC,GAAR,CAAYH,MAAZ,EACA,mBACE,wCACA,KAAC,MAAD,IADA,cAEA,aAAK,EAAE,CAAC,gBAAR,wBAGI,YAAK,EAAE,CAAC,OAAR,UACEF,OAAO,CAACkB,MAAR,GAAmBC,SAAnB,CAA+B,oBAA/B,cAAsD,YAAK,GAAG,+CAAyCnB,OAAO,CAACkB,MAAR,CAAe,CAAf,CAAzC,UAAR,CAA4E,GAAG,CAAC,YAAhF,EADxD,EAHJ,cAOI,aAAK,EAAE,CAAC,aAAR,wBACC,oBAAKlB,OAAO,CAACoB,KAAb,EADD,cAEC,oBAAKlB,MAAM,CAACmB,IAAZ,EAFD,cAGC,mBAAIrB,OAAO,CAACsB,WAAR,GAAwBH,SAAxB,CAAoC,2BAApC,CACD,MAAOnB,QAAO,CAACsB,WAAf,GAA+B,QAA/B,CAA0CtB,OAAO,CAACsB,WAAR,CAAoBC,KAA9D,CAAsEvB,OAAO,CAACsB,WADjF,EAHD,GAPJ,GAFA,cAkBA,KAAC,MAAD,IAlBA,GADF,CAqBE,CAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,cAAevB,YAAf"},"metadata":{},"sourceType":"module"}